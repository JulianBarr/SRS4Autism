<div class="main-display">{{Character}}</div>
<div id="char-mcq-answer-4"></div>
<script>
if ("{{Card}}" === "4. MCQ (Pick Pic)" && window.ankiCharMcq4Choices) {
    const { choices, correct } = window.ankiCharMcq4Choices;
    const render = v => {
        if (v.startsWith('<img')) return v;
        if (/\.(jpe?g|png|gif|svg)$/i.test(v)) return `<img src="${v}">`;
        return `<span class="pinyin-cell">${v}</span>`;
    };
    let h = '<table class="char-mcq-table"><tr>';
    choices.forEach(c => {
        const cl = (c === correct) ? 'correct-answer-rep' : '';
        h += `<td class="rep-cell ${cl}">${render(c)}</td>`;
    });
    document.getElementById('char-mcq-answer-4').innerHTML = h + '</tr></table>';
    delete window.ankiCharMcq4Choices;
}
</script>
